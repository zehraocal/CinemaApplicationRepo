<br>
<br>
<br>


<p-panel header="Sorgulama Kriteri" [toggleable]="true" [style]="{'margin-bottom':'20px'}  ">
  <div class="col-md-6">
    <div class="form-group">
      <span>
        <input type="text" size="30" pInputText [(ngModel)]='criteria.name' placeholder="Salon Adı">
      </span>
    </div>

    <button type="submit" class="btn btn-primary" (click)="getWhereMovieHouse( )"> Sorgula
    </button>
    <button type="button" class="btn btn-primary" (click)="cleanSelectedMovieHouse()"> Temizle
    </button>
    <button class="btn btn-primary" (click)="openAddDialog(classic1)"> Ekle </button>
    <ng-template #classic1 let-c="close" let-d="dismiss">
      <div class="modal-header justify-content-center">
        <button type="button" class="close" (click)="d('Cross click')">
          <i class="now-ui-icons ui-1_simple-remove"></i>
        </button>
        <h4 class="title title-up">Salon Bilgileri Gir</h4>
      </div>
      <div class="modal-body">
        <div class="input-group form-group-no-border input-lg col-lg-12">
          <div class="input-group-prepend">
          </div>
          <div>
            <input id="float-input" type="text" size="30" placeholder="Salon Adı" pInputText
              [(ngModel)]="record.addName">
          </div>
          <div>
            <input id="float-input" type="text" size="30" placeholder="Kapasite" pInputText
              [(ngModel)]="record.addCapacity">
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="addMovieHouse()">Kaydet</button>
        <button type="button" class="btn btn-danger" (click)="c('Close click')">İptal</button>
      </div>
    </ng-template>
  </div>
</p-panel>

<p-panel header="Sorgulama Sonucu" [toggleable]="true" *ngIf='sorgulandi' [style]="{'margin-bottom':'20px'}   ">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <!-- <table class="table">
          <thead>
            <tr>
              <th scope="col">Adı</th>
              <th scope="col">Kapasitesi</th>
              <th></th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let moviehouse of MovieHouses">
              <td>{{ moviehouse.name }}</td>
              <td>{{ moviehouse.capacity }}</td>
              <td><button type="button" class="btn btn-primary" (click)="deleteMovieHouse( moviehouse.id)">
                  <i class="now-ui-icons ui-1_simple-remove"></i>
                </button>
              </td>
              <td><button class="btn btn-primary" (click)="openUpdateDialog(classic, moviehouse)">
                  <i class="now-ui-icons shopping_tag-content"></i>
                </button>
                <ng-template #classic let-c="close" let-d="dismiss">
                  <div class="modal-header justify-content-center">
                    <button type="button" class="close" (click)="d('Cross click')">
                      <i class="now-ui-icons ui-1_simple-remove"></i>
                    </button>
                    <h4 class="title title-up">Salon Bilgileri</h4>
                  </div>
                  <div class="modal-body">
                    <div class="input-group form-group-no-border input-lg col-lg-12">
                      <div class="input-group-prepend">
                      </div>
                      <div>
                        <input id="float-input" type="text" size="30" placeholder="Salon Adı" pInputText
                          [(ngModel)]='record.name'>
                      </div>
                      <div>
                        <input id="float-input" type="text" size="30" placeholder="Kapasite" pInputText
                          [(ngModel)]='record.capacity'>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-primary"
                      (click)="updateMovieHouse(moviehouse.id)">Kaydet</button>
                    <button type="button" class="btn btn-danger" (click)="c('Close click')">İptal</button>
                  </div>
                </ng-template>
              </td>
            </tr>
          </tbody>
        </table> -->

        <p-table [columns]="cols" [value]="MovieHouses" [scrollable]="true" scrollHeight="200px">
          <ng-template pTemplate="header" let-columns>
            <tr>
              <th *ngFor="let col of columns">
                {{col.header}}
              </th>
              <ng-container>
                <th></th>
                <th></th>
              </ng-container>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-rowData let-columns="columns">
            <tr>
              <td *ngFor="let col of columns">
                {{rowData[col.field]}}
              </td>
              <ng-container>
                <td><button type="button" class="btn btn-primary" (click)="deleteMovieHouse(rowData.id)">
                    <i class="now-ui-icons ui-1_simple-remove"></i>
                  </button>
                </td>
                <td><button class="btn btn-primary" (click)="openUpdateDialog(classic, rowData)">
                    <i class="now-ui-icons shopping_tag-content"></i>
                  </button>
                  <ng-template #classic let-c="close" let-d="dismiss">
                    <div class="modal-header justify-content-center">
                      <button type="button" class="close" (click)="d('Cross click')">
                        <i class="now-ui-icons ui-1_simple-remove"></i>
                      </button>
                      <h4 class="title title-up">Salon Bilgileri</h4>
                    </div>
                    <div class="modal-body">
                      <div class="input-group form-group-no-border input-lg col-lg-12">
                        <div class="input-group-prepend">
                        </div>
                        <div>
                          <input id="float-input" type="text" size="30" placeholder="Salon Adı" pInputText
                            [(ngModel)]='record.name'>
                        </div>
                        <div>
                          <input id="float-input" type="text" size="30" placeholder="Kapasite" pInputText
                            [(ngModel)]='record.capacity'>
                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-primary"
                        (click)="updateMovieHouse(rowData.id)">Kaydet</button>
                      <button type="button" class="btn btn-danger" (click)="c('Close click')">İptal</button>
                    </div>
                  </ng-template>
                </td>
              </ng-container>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
</p-panel>